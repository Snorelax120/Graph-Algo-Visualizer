<!DOCTYPE html>
<head>

</head>
<body>
<div id="container"></div>
<script type="module">

import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
//figure out how to increase view box size with increasing number of nodes
//currently fits like 6 nodes. 
const svg1 = d3.create('svg').attr('viewBox', [0, 0, 1000, 1000]);

const graph = {
    nodes: ['a', 'b', 'c', 'd'],
    edges: [
        ['a', 'c'],
        ['b', 'c'],
    ]
};

function appendCircles(svg1, graph) {
    const nodes = graph.nodes;
    const circleSpacing = 200;
    const circleRadius = 50;
    const circles = {};
    nodes.forEach((node, index) => {
        const cx = index * circleSpacing + circleRadius;
        const circle = svg1.append('circle')
            .attr('cx', cx)
            .attr('cy', '50%')
            .attr('r', circleRadius)
            .attr('fill', 'green');
        circles[node] = circle;


        svg1.append('text')
            .attr('x', cx)
            .attr('y', '50%')
            .attr('text-anchor', 'middle')
            .attr('dominant-baseline', 'central')
            .text(node)
            .attr('font-family', 'Arial')
            .attr('font-size', '15px')
            .attr('fill', 'black');


        //     if (index < nodes.length - 1) {
        //     const nextCx = (index + 1) * circleSpacing + circleRadius;
        //     svg1.append('line')
        //         .attr('x1', cx + circleRadius)
        //         .attr('y1', '50%')
        //         .attr('x2', nextCx - circleRadius)
        //         .attr('y2', '50%')
        //         .attr('stroke', 'black')
        //         .attr('marker-end', 'url(#arrowhead)');
        // }
    });
    return circles;
}

svg1.append('defs')
    .append('marker')
    .attr('id', 'arrowhead')
    .attr('viewBox', '-10 -10 20 20')
    .attr('markerWidth', 10)
    .attr('markerHeight', 10)
    .append('path')
    .attr('d', 'M-10,-6L0,0L-10,6')
    .style('fill', 'black');

const circles = appendCircles(svg1, graph);
circles['b'].attr('fill', 'red')
const returnValue = svg1.node();

container.append(returnValue);

</script>
</body>


